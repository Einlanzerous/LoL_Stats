<!doctype html>
<html lang="en" ng-app="myApp">
    <head>
        <title>League of Legends</title>
        <style type="text/css">
            body {background-image: url(lolImage.jpg);
                  background-repeat: none;
                  background-size: 100%;}
            div.text {width:  400px;
                position: relative;
                margin-left: auto;
                margin-right: auto;
                display: flex;
                align-items: center;
                justify-content: center;
                background-color: rgba(0,0,0,.9);
                border: 30px solid transparent;
                border-image: url(border.png) 50 round;}
            p { font-family: Verdana;
                font-size: 21.5px;
                color: darkgoldenrod;
                font-weight: bold;}
        </style>
               
    </head>
    
    <body>
        <div class="text" ng-controller="myCtrl">
            
            <p>SUMMONOR NAME: </p> 
            <input type="text" ng-model="summonerName">
            <button ng-disabled="!summonerName.length" ng-click="sendName()">Enter</button>
            
            <input type="text" ng-model="stat" style="display:none">
            <table>
                <tr ng-repeat="s in stat">
                    <td>{{s.kills}}</td>
                    <td>{{s.deaths}}</td>
                    <td>{{s.kda}}</td>
                </tr>
            </table>
        </div>
        
        <script 	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.2/angular.min.js">
		</script>
        
        <script src="http://code.jquery.com/jquery-3.1.1.min.js"></script>
        
        <script type="text/javascript">
            (function() {
                var app = angular.module('myApp', []);
    
                app.controller('myCtrl', ['$scope', function($scope) {
                    $scope.summonerName = '';
                    $scope.stat = [];
        
                    $scope.sendName = function() {
                        var summonerName = {
                            "name": $scope.summonerName
                        }
                        $.post('putName', summonerName);
                        
                        $.getJSON('getStat', function(result) {
                            console.log("Hello");
                            console.log(result);
                            $scope.stat = result;
                        });
                        
                        //console.log($scope.stat);
                        $scope.summonerName = '';
                        console.log($scope.summonerName);
                    }
                }])
            }());
        </script>
    </body>
</html>